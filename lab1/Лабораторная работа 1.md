Дисциплина: Введение в распределенные технологии
Группа: К4111с
ФИО: Дорошенко Даниил Вадимович

Ход работы:
1. [Установим docker на рабочий компьютер ](https://docs.docker.com/engine/install/ubuntu/)
![[Pasted image 20241108212902.png]]
2. Установим minikube 
![[Pasted image 20241108214355.png]]
![[Pasted image 20241108221310.png]]
3. Напишем манифест для пода и запустим
 ![[Pasted image 20241109012828.png]]
4. Напишем манифест для сервиса и запустим 
![[Pasted image 20241109012725.png]]
Nodeport - сервис, который позволяет открыть порт на всех нодах для доступа к подам извне. При создании сервиса задается 3 вида портов. nodePort - какой порт откроет k8s на ноде для доступа до подов. Как я понял хорошей практикой является не задавать его вручную, k8s сам его задаст (данный порт задается в промежутке 30000-32767). Targetport - порт на котором работает приложение. Port - порт который используется сервисом.
После создания сервиса, чтобы попасть на приложение нужно ввести ip ноды и порт, который выбрал k8s (nodeport).
Лабораторная выполнялась на виртуальной машине(без gui), чтобы получить страницу на windows можно пробросить порты следующим образом (ssh -L 50000:192.168.49.2:30641 login@192.168.1.221). Создадим ssh туннель через виртуальную машину до ноды кластера.
![[Pasted image 20241109010157.png]]

5. Для входа посмотрим логи пода с помощью команды `kubectl logs vault` 
![[Pasted image 20241109011902.png]]
![[Pasted image 20241109012424.png]]
![[Диаграмма без названия.drawio (15).png]]
